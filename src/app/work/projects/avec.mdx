---
title: "Avec: Cornell University Rideshare Platform"
publishedAt: "2025-01-15"
summary: "Building AVEC, a ride-share platform for university students looking to make long-distance trips between cities (starting at Ithaca, NY and Cornell University)."
images:
  - "/images/projects/avec/homepage.jpeg"
  - "/images/projects/avec/add-ride.jpeg"
team:
  - name: "Arnab Ghosh"
    role: "Software Engineer"
    avatar: "/images/avatar.jpg"
    linkedIn: "https://www.linkedin.com/in/arnab-ghosh819/"
link: "https://github.com/arniber21/RideshareWeb"
---

## Overview
In this project, I leveraged my full-stack development skills to attempt to solve one of Cornell University's long-standing problems - it's relative isolation. 
This is particularly inconvenient when traveling to other cities, as services such as Bus routes, Uber rides, flights, and more are far more limited. 
Delays added by winter weather complicate the situation. 
A gap in Ithaca's transportation infrastructure is the relative lack of car-pooling - a pattern seen through most of the United States and Canada. 


Avec was the first project in which I tried to implement a monorepo structure and use the microservice architecture. 
Given the complexity and the plug-and-play nature of the features that I wanted to implement eventually (for example, delaying the payment feature until I could figure it out) would be much easier in a microservice architecture. 
Giving up tRPC, however, meant that I lost the type-safe compiler-guaranteed security that it offered, requiring more careful API development. 
This forced me to think more about the separation of concerns between frontend and backend, generating a more robust architecture in the end. 
Another challenge that the microservice architecture brought was deployment. 
Docker really shines in this example, as well as the flexibility of custom NPM build scripts. 

## ðŸš€ Features
- **Ride Management**
  - Post and search for rides
  - Real-time ride status updates
  - Flexible booking system
  - Seat availability tracking

- **User System**
  - Email and password authentication
  - Google OAuth integration
  - JWT-based session management
  - Profile customization

- **Reviews & Ratings**
  - Rate drivers and passengers
  - Detailed review system
  - Review moderation
  - Anti-spam protection

- **Real-time Communication**
  - WebSocket-based live chat
  - Message persistence
  - Typing indicators
  - Read receipts

- **Payment Integration** (Planned)
  - Stripe Connect integration
  - Payment processing
  - Transaction history

## ðŸ›  Tech Stack

### Frontend
- **Framework**: Next.js 15 with App Router
  - React 19
  - TypeScript
  - Server Components
- **UI Components**: 
  - Radix UI primitives
  - Tailwind CSS
  - Shadcn/UI components
- **Form Handling**:
  - React Hook Form
  - Zod validation
- **Data Fetching**: 
  - Axios for API calls
  - React Query (planned)

### Backend Services
  - Express.js
  - JWT authentication
  - Prisma ORM
  - PostgreSQL

### Infrastructure
- **Development**:
  - pnpm workspaces
  - Turborepo
  - Docker Compose
- **Deployment**:
  - Docker containers
  - Kubernetes (planned)
  - GitHub Actions CI/CD

## ðŸ“¦ Project Structure

```
avec/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ web/                 # Next.js web application
â”‚       â”œâ”€â”€ app/            # App router pages
â”‚       â”œâ”€â”€ components/     # React components
â”‚       â”œâ”€â”€ lib/           # Utilities and hooks
â”‚       â””â”€â”€ styles/        # Global styles
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ common/            # Shared code
â”‚   â”‚   â”œâ”€â”€ types/        # TypeScript definitions
â”‚   â”‚   â”œâ”€â”€ utils/        # Shared utilities
â”‚   â”‚   â””â”€â”€ constants/    # Shared constants
â”‚   â”œâ”€â”€ ui/               # Shared UI components
â”‚   â””â”€â”€ api-client/       # Generated API client
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ auth/             # Authentication service
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ prisma/      # Database schema
â”‚   â”‚   â””â”€â”€ tests/       # Service tests
â”‚   â”œâ”€â”€ rides/           # Ride management
â”‚   â”œâ”€â”€ users/           # User management
â”‚   â”œâ”€â”€ chat/            # Real-time chat
â”‚   â”œâ”€â”€ reviews/         # Review system
â”‚   â””â”€â”€ payments/        # Payment processing
â””â”€â”€ infrastructure/
    â”œâ”€â”€ terraform/       # IaC definitions
    â”œâ”€â”€ docker/          # Container configs
    â””â”€â”€ k8s/             # K8s manifests
```

## ðŸ”§ Service Architecture

### Auth Service
- JWT-based authentication
- Google OAuth 2.0 integration
- Password hashing with bcrypt
- Session management with Redis
- Email verification

### Rides Service
- Ride CRUD operations
- Booking management
- Location services
- Event publishing

### Reviews Service
- Review creation and retrieval
- Rating calculations
- Basic moderation
- Report handling

### Chat Service
- WebSocket connections
- Message persistence
- Presence tracking
- Chat history